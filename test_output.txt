FAIL __tests__/rights.test.js (10.992 s)
  🛡️ Rights API Testing
    ✓ ✅ should create a new right (873 ms)
    ✕ ❌ should return 400 if required fields are missing (189 ms)
    ✕ ❌ should return 400 if right with same name exists (112 ms)
    ✓ ✅ should fetch all rights (146 ms)
    ✓ ✅ should fetch right by ID (112 ms)
    ✕ ❌ should return 404 if right not found (108 ms)
    ✓ ✅ should update a right successfully (112 ms)
    ✕ ❌ should return 404 if updating non-existent right (86 ms)
    ✓ ✅ should delete a right successfully (102 ms)
    ✕ ❌ should return 404 when deleting non-existent right (95 ms)

  ● 🛡️ Rights API Testing › ❌ should return 400 if required fields are missing

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: undefined

      57 |         expect(res.statusCode).toBe(400);
      58 |         console.log("success value:", res.body.success);
    > 59 |         expect(res.body.success).toBe(false);
         |                                  ^
      60 |         expect(res.body.msg).toMatch(/All fields are required/i);
      61 |     });
      62 |

      at Object.toBe (__tests__/rights.test.js:59:34)

  ● 🛡️ Rights API Testing › ❌ should return 400 if right with same name exists

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: undefined

      68 |         expect(res.statusCode).toBe(400);
      69 |         console.log("success value:", res.body.success);
    > 70 |         expect(res.body.success).toBe(false);
         |                                  ^
      71 |         expect(res.body.msg).toMatch(/already exists/i);
      72 |     });
      73 |

      at Object.toBe (__tests__/rights.test.js:70:34)

  ● 🛡️ Rights API Testing › ❌ should return 404 if right not found

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: undefined

      104 |         expect(res.statusCode).toBe(404);
      105 |         console.log("success value:", res.body.success);
    > 106 |         expect(res.body.success).toBe(false);
          |                                  ^
      107 |         expect(res.body.msg).toMatch(/not found/i);
      108 |     });
      109 |

      at Object.toBe (__tests__/rights.test.js:106:34)

  ● 🛡️ Rights API Testing › ❌ should return 404 if updating non-existent right

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: undefined

      129 |         expect(res.statusCode).toBe(404);
      130 |         console.log("success value:", res.body.success);
    > 131 |         expect(res.body.success).toBe(false);
          |                                  ^
      132 |         expect(res.body.msg).toMatch(/not found/i);
      133 |     });
      134 |

      at Object.toBe (__tests__/rights.test.js:131:34)

  ● 🛡️ Rights API Testing › ❌ should return 404 when deleting non-existent right

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: undefined

      149 |         expect(res.statusCode).toBe(404);
      150 |         console.log("success value:", res.body.success);
    > 151 |         expect(res.body.success).toBe(false);
          |                                  ^
      152 |         expect(res.body.msg).toMatch(/not found/i);
      153 |     });
      154 | });

      at Object.toBe (__tests__/rights.test.js:151:34)

Test Suites: 1 failed, 1 total
Tests:       5 failed, 5 passed, 10 total
Snapshots:   0 total
Time:        11.242 s, estimated 12 s
Ran all test suites matching __tests__/rights.test.js.
